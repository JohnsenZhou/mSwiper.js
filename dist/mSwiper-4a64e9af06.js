!function(t,i){"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(exports=module.exports=i()):"function"==typeof define?define(i):this.mSwiper=i()}(0,function(){function t(t){this.container=t.selector?document.querySelector(t.selector):document.querySelector("#selector"),this.item=this.container.querySelectorAll("li"),this.isManual=!!t.isManual&&t.isManual,this.isAutoPlay=!!t.isAutoPlay&&t.isAutoPlay,this.goDirection=t.goDirection?t.goDirection:"left",this.autoPlayTime=t.autoPlayTime?t.autoPlayTime:5e3,this.x0=0,this.y0=0,this.hasmoved=0,this.lock=0,this.queue=[],this.virtual=[],this.css=["-webkit-transition: -webkit-transform .3s ease; z-index: 3; -webkit-transform: translate3d(0, 0, 10px) scale3d(1, 1, 1); visibility: visible;","-webkit-transition: -webkit-transform .3s ease; z-index: 2; -webkit-transform: translate3d("+this.rem(-148)+", 0, 6px) scale3d(.8, .8, 1); visibility: visible;","-webkit-transition: -webkit-transform .3s ease; z-index: 2; -webkit-transform: translate3d("+this.rem(148)+", 0, 6px) scale3d(.8, .8, 1); visibility: visible;","-webkit-transition: -webkit-transform .3s ease; z-index: 1; -webkit-transform: translate3d("+this.rem(-240)+", 0, 2px) scale3d(.667, .667, 1); visibility: visible;","-webkit-transition: -webkit-transform .3s ease; z-index: 1; -webkit-transform: translate3d("+this.rem(240)+", 0, 2px) scale3d(.667, .667, 1); visibility: visible;"],this.init()}return t.prototype.init=function(){this.container.style["-webkit-transform-style"]="preserve-3d";for(var t=0;t<this.item.length;t++)this.item[t].style.visibility="hidden";this.queue=function(t){for(var i=[],e=0;e<t;e++)i[e]=e;return i}(this.item.length),this.virtual=new Array(this.item.length),this.swap(),this.item.length<=1&&reutrn,this.isAutoPlay&&this.autoPlay(),this.isManual?this.manual():this.destory()},t.prototype.touchstartHandle=function(t){var i=t.targetTouches[0],e=i.pageX,s=i.pageY;this.x0=e,this.y0=s,this.hasmoved=0,this.lock=0},t.prototype.touchmoveHandle=function(t){if(!this.lock){var i=t.targetTouches[0],e=i.pageX,s=i.pageY,n=this.x0-e,o=this.y0-s;this.hasmoved||(this.hasmoved=1,Math.abs(n)>Math.abs(o)&&t.preventDefault()),n<=-50?(this.queue.unshift(this.queue.pop()),this.lock=1,this.swap("right")):n>=50&&(this.queue.push(this.queue.shift()),this.lock=1,this.swap("left"))}},t.prototype.swap=function(t){for(var i=[].concat(this.queue),e=this.virtual.length,s=e-1,n=0,o=new Array(e),r=1;n<5&&i.length>0;)o[r?i.shift():i.pop()]=this.css[n!=s||r||"right"!=orientation?n++:++n],r=!r;for(var a=0;a<e;a++)o[a]!=this.virtual[a]&&(this.virtual[a]=o[a],this.item[a].style.cssText=this.virtual[a]||"visibility: hidden")},t.prototype.autoPlay=function(){setInterval(function(){"left"===this.goDirection?this.queue.push(this.queue.shift()):"right"===this.goDirection?this.queue.unshift(this.queue.pop()):this.queue.push(this.queue.shift()),this.lock=1,this.swap(this.goDirection)}.bind(this),this.autoPlayTime)},t.prototype.manual=function(){this.container.addEventListener("touchstart",this.touchstartHandle.bind(this)),this.container.addEventListener("touchmove",this.touchmoveHandle.bind(this))},t.prototype.destory=function(){this.container.removeEventListener("touchstart",this.touchstartHandle.bind(this)),this.container.removeEventListener("touchmove",this.touchmoveHandle.bind(this))},t.prototype.rem=function(t){return t/40+"rem"},t});